<!DOCTYPE html>
<html>
<head>
	<title>文章题目</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="keywords" content="个人博客,吴争个人博客,吴争个人博客,吴争,unity" />
	<meta name="description" content="一个热爱学习的程序员个人网站，研究生在读学生" />
	<link rel="shortcut icon" type="image/x-icon" href="../images/icons/favicon.png" />
	<!---Editor.md代码块高亮-->
	<link rel="stylesheet" type="text/css" href="../highlight/css/index.css">
	<link rel="stylesheet" type="text/css" href="../highlight/css/editormd.min.css">
	<link rel="stylesheet" type="text/css" href="../highlight/css/planeui.min.css">
	<!---CkEditor代码块高亮-->
    <!--
    <link rel="stylesheet" href="../highlight/styles/default.css">
    <script src="../highlight/highlight.pack.js"></script>
-->    
<link href="../css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script type="text/javascript" src="../js/jquery.min.js"></script>
<!-- Custom Theme files -->
<!--theme-style-->
<link href="../css/style.css" rel="stylesheet" type="text/css" media="all" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>

<script type="text/javascript" src="../js/move-top.js"></script>
<script type="text/javascript" src="../js/easing.js"></script>
<link href="../css/style1.css" rel="stylesheet">
<link href="../css/animations.css" rel="stylesheet">
<script type="text/javascript" src="../js/modernizr.js"></script>
<script type="text/javascript" src="../js/template.js"></script>
<script type="text/javascript">

        //hljs.initHighlightingOnLoad();

        jQuery(document).ready(function ($) {
        	$(".scroll").click(function (event) {
        		event.preventDefault();
        		$('html,body').animate({ scrollTop: $(this.hash).offset().top }, 1000);
        	});
        });

        function getResponsCount() {
        	var arr = document.getElementsByClassName("top-comment-right");
        	var num = arr.length;
        	var h = document.getElementById("responsnum");
        	h.innerText = num + "个回复";
        }

        function getNowFormatDate() {
        	var date = new Date();
        	var seperator1 = "-";
        	var seperator2 = ":";
        	var month = date.getMonth() + 1;
        	var strDate = date.getDate();
        	if (month >= 1 && month <= 9) {
        		month = "0" + month;
        	}
        	if (strDate >= 0 && strDate <= 9) {
        		strDate = "0" + strDate;
        	}
        	var currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate
        	+ " " + date.getHours() + seperator2 + date.getMinutes()
        	+ seperator2 + date.getSeconds();
        	return currentdate;
        }

        function test(name, email, content) {
            //对电子邮件的验证
            var myreg = /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
            if (!myreg.test(email) || name == "" || content == "") {
            	return false;
            }
            else
            	return true;
        }
        function CreatReply(name, email, content) {
        	if (test(name, email, content)) {
        		var text = $("<div class=\"comments-top-top top-grid-comment\"><div class=\"top-comment-left\"><img class=\"img-responsive\" src=\"images/co.png\"></div><div class=\"top-comment-right\"><ul><li><span class=\"left-at replyname\">" + name + "</span></li><li><span class=\"right-at\">" + getNowFormatDate() + "</span></li><li></li></ul><p>" + content + "</p></div><div class=\"clearfix\"> </div></div>").appendTo($("#replylist"));

        		getResponsCount();
        	}
        }
    </script>
</head>
<body class="bodycolor">
	<script type="text/javascript" src="../js/bgeffect.js"></script>
	<!--header-->
	<!--header fixed clearfix 标题栏始终在顶部-->
	<div class="header" id="home">
		<div class="container">
			<div class="logo">
				<h1><a href="../index.html"><img src="../images/logo.png" alt="" width="300px" height="75px"></a></h1>
			</div>
			<div class="header-bottom">
				<div class="top-nav">
					<span class="menu"> </span>
					<ul>
						<li><a href="../index.html">首页</a></li>
						<li><a href="../index.html">最新</a></li>
						<li><a href="../project.html">项目</a></li>
						<li><a href="../index.html">成长</a></li>
						<li><a href="../articlelist.html">学无止境</a></li>
						<li><a href="../contact.html">关于我</a></li>
					</ul>
					<!--script-->
					<script>
						$("span.menu").click(function () {
							$(".top-nav ul").slideToggle(500, function () {
							});
						});
					</script>
				</div>
				<div class="clearfix"> </div>
			</div>
			<div class="clearfix"> </div>
		</div>
	</div>
	<!---->

	<div class="container"  id="main-content">

		<div class="single-page-artical">
			<div class="artical-content">
				<h3>为什么你会做程序员</h3>

				<div class="artical-links">
					<ul>
						<li><a href="#"><small> </small><span>2017-01-18</span></a></li>
						<li><a href="#"><small class="admin"> </small><span>吴争</span></a></li>
						<li><a href="#"><small class="posts"> </small><span>标签</span></a></li>
					</ul>
				</div>

				<p style="text-align:center"><img alt="" height="298" src="../images/article/arch-2.jpg" width="450" /></p>

				<p><span style="font-size:20px">我是一大段文字</span></p>

				<div class="markdown-body editormd-preview-container" previewcontainer="true" ><pre class="prettyprint linenums prettyprinted"><ol class="linenums"><li class="L0"><code class="lang-csharp"><span class="kwd">using</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">Collections</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"><span class="kwd">using</span><span class="pln"> </span><span class="typ">System</span><span class="pun">.</span><span class="typ">Collections</span><span class="pun">.</span><span class="typ">Generic</span><span class="pun">;</span></code></li><li class="L2"><code class="lang-csharp"><span class="kwd">using</span><span class="pln"> </span><span class="typ">UnityEngine</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="kwd">using</span><span class="pln"> </span><span class="typ">UnityEngine</span><span class="pun">.</span><span class="pln">AI</span><span class="pun">;</span></code></li><li class="L4"><code class="lang-csharp"></code></li><li class="L5"><code class="lang-csharp"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AIController</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">MonoBehaviour</span></code></li><li class="L6"><code class="lang-csharp"><span class="pun">{</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pln"> effect_click_prefab</span><span class="pun">;</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pln"> player</span><span class="pun">;</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pln"> mapIcon</span><span class="pun">;</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pln"> locateIcon</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"></code></li><li class="L2"><code class="lang-csharp"><span class="pln">    </span><span class="pun">[</span><span class="typ">HideInInspector</span><span class="pun">]</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Vector3</span><span class="pln"> targetPosition</span><span class="pun">;</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">    </span><span class="pun">[</span><span class="typ">HideInInspector</span><span class="pun">]</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> isArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"></code></li><li class="L7"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">LineRenderer</span><span class="pln"> lineRenderer</span><span class="pun">;</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">NavMeshAgent</span><span class="pln"> agent</span><span class="pun">;</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> canArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Transform</span><span class="pln"> flag</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pln"> icon</span><span class="pun">;</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> isSetDestination </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">AIController</span><span class="pln"> instance</span><span class="pun">;</span></code></li><li class="L4"><code class="lang-csharp"></code></li><li class="L5"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">static</span><span class="pln"> </span><span class="typ">AIController</span><span class="pln"> </span><span class="typ">GetInstance</span><span class="pun">()</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> instance</span><span class="pun">;</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9"><code class="lang-csharp"></code></li><li class="L0"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Awake</span><span class="pun">()</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        instance </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L4"><code class="lang-csharp"></code></li><li class="L5"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Start</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        icon </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pun">.</span><span class="typ">Instantiate</span><span class="pun">(</span><span class="pln">locateIcon</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Vector3</span><span class="pun">.</span><span class="pln">zero</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Quaternion</span><span class="pun">.</span><span class="pln">identity</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">        icon</span><span class="pun">.</span><span class="typ">SetActive</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L9"><code class="lang-csharp"></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        flag </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pun">.</span><span class="typ">Find</span><span class="pun">(</span><span class="str">"flags"</span><span class="pun">).</span><span class="pln">transform</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        lineRenderer </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GameObject</span><span class="pun">.</span><span class="typ">Find</span><span class="pun">(</span><span class="str">"NavigationLine"</span><span class="pun">).</span><span class="typ">GetComponent</span><span class="pun">&lt;</span><span class="typ">LineRenderer</span><span class="pun">&gt;();</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        agent </span><span class="pun">=</span><span class="pln"> player</span><span class="pun">.</span><span class="typ">GetComponent</span><span class="pun">&lt;</span><span class="typ">NavMeshAgent</span><span class="pun">&gt;();</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L4"><code class="lang-csharp"></code></li><li class="L5"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Update</span><span class="pln"> </span><span class="pun">()</span><span class="pln"> </span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">flag </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">childCount </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">MiniMapController</span><span class="pun">.</span><span class="typ">GetInstance</span><span class="pun">().</span><span class="pln">canMove</span><span class="pun">)</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            targetPosition </span><span class="pun">=</span><span class="pln"> </span><span class="typ">MiniMapController</span><span class="pun">.</span><span class="typ">GetInstance</span><span class="pun">().</span><span class="pln">clickPosition</span><span class="pun">;</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">            </span><span class="typ">DrawNavigationLine</span><span class="pun">(</span><span class="pln">targetPosition</span><span class="pun">,</span><span class="pln"> isSetDestination</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            </span><span class="typ">MiniMapController</span><span class="pun">.</span><span class="typ">GetInstance</span><span class="pun">().</span><span class="pln">canMove </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="com">//自动寻路</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="typ">MiniMapController</span><span class="pun">.</span><span class="typ">GetInstance</span><span class="pun">().</span><span class="pln">isEnterMiniMap </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Input</span><span class="pun">.</span><span class="typ">GetMouseButtonDown</span><span class="pun">(</span><span class="lit">2</span><span class="pun">))</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">            agent</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">            </span><span class="typ">Ray</span><span class="pln"> ray </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Camera</span><span class="pun">.</span><span class="pln">main</span><span class="pun">.</span><span class="typ">ScreenPointToRay</span><span class="pun">(</span><span class="typ">Input</span><span class="pun">.</span><span class="pln">mousePosition</span><span class="pun">);</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">            </span><span class="typ">RaycastHit</span><span class="pln"> hit</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Physics</span><span class="pun">.</span><span class="typ">Raycast</span><span class="pun">(</span><span class="pln">ray</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">out</span><span class="pln"> hit</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Mathf</span><span class="pun">.</span><span class="kwd">Infinity</span><span class="pun">))</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">                isSetDestination </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">                targetPosition </span><span class="pun">=</span><span class="pln"> hit</span><span class="pun">.</span><span class="pln">point</span><span class="pun">;</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">                </span><span class="typ">ShowClickEffect</span><span class="pun">(</span><span class="pln">hit</span><span class="pun">.</span><span class="pln">point</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">                </span><span class="typ">DrawNavigationLine</span><span class="pun">(</span><span class="pln">hit</span><span class="pun">.</span><span class="pln">point</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">isArrive</span><span class="pun">)</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            isSetDestination </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">            icon</span><span class="pun">.</span><span class="typ">SetActive</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">flag </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">childCount </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">                </span><span class="typ">Destroy</span><span class="pun">(</span><span class="pln">flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="typ">GetChild</span><span class="pun">(</span><span class="lit">0</span><span class="pun">).</span><span class="pln">gameObject</span><span class="pun">);</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">childCount </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            icon</span><span class="pun">.</span><span class="typ">SetActive</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">            agent</span><span class="pun">.</span><span class="typ">ResetPath</span><span class="pun">();</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            </span><span class="com">//agent.Stop();</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">else</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            icon</span><span class="pun">.</span><span class="typ">SetActive</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        isArrive </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Vector3</span><span class="pun">.</span><span class="typ">Distance</span><span class="pun">(</span><span class="pln">player</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">position</span><span class="pun">,</span><span class="pln"> targetPosition</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3"><code class="lang-csharp"></code></li><li class="L4"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">ShowClickEffect</span><span class="pun">(</span><span class="typ">Vector3</span><span class="pln"> hitPoint</span><span class="pun">)</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">        hitPoint </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Vector3</span><span class="pun">(</span><span class="pln">hitPoint</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> hitPoint</span><span class="pun">.</span><span class="pln">y </span><span class="pun">+</span><span class="pln"> </span><span class="lit">0.1f</span><span class="pun">,</span><span class="pln"> hitPoint</span><span class="pun">.</span><span class="pln">z</span><span class="pun">);</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="typ">GameObject</span><span class="pun">.</span><span class="typ">Instantiate</span><span class="pun">(</span><span class="pln">effect_click_prefab</span><span class="pun">,</span><span class="pln"> hitPoint</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Quaternion</span><span class="pun">.</span><span class="pln">identity</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9"><code class="lang-csharp"></code></li><li class="L0"><code class="lang-csharp"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">DrawNavigationLine</span><span class="pun">(</span><span class="typ">Vector3</span><span class="pln"> targetPos</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> needArrive</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> isMiniMap</span><span class="pun">)</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">    </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        isArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isMiniMap</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">flag </span><span class="pun">!=</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">childCount </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">                </span><span class="typ">Destroy</span><span class="pun">(</span><span class="pln">flag</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="typ">GetChild</span><span class="pun">(</span><span class="lit">0</span><span class="pun">).</span><span class="pln">gameObject</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="typ">NavMeshPath</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">NavMeshPath</span><span class="pun">();</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">bool</span><span class="pln"> hasFoundPath </span><span class="pun">=</span><span class="pln"> agent</span><span class="pun">.</span><span class="typ">CalculatePath</span><span class="pun">(</span><span class="pln">targetPos</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">);</span></code></li><li class="L2"><code class="lang-csharp"></code></li><li class="L3"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">path</span><span class="pun">.</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> </span><span class="typ">NavMeshPathStatus</span><span class="pun">.</span><span class="typ">PathComplete</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            isSetDestination </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"可以到达目的地！"</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">            canArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">numPositions </span><span class="pun">=</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">corners</span><span class="pun">.</span><span class="typ">Length</span><span class="pun">;</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">corners</span><span class="pun">.</span><span class="typ">Length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">                lineRenderer</span><span class="pun">.</span><span class="typ">SetPosition</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> path</span><span class="pun">.</span><span class="pln">corners</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L4"><code class="lang-csharp"></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            </span><span class="typ">Vector3</span><span class="pln"> lacateIconPosition </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Vector3</span><span class="pun">(</span><span class="pln">targetPosition</span><span class="pun">.</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1.5f</span><span class="pun">,</span><span class="pln"> targetPosition</span><span class="pun">.</span><span class="pln">z</span><span class="pun">);</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">            icon</span><span class="pun">.</span><span class="pln">transform</span><span class="pun">.</span><span class="pln">localPosition </span><span class="pun">=</span><span class="pln"> lacateIconPosition</span><span class="pun">;</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">            icon</span><span class="pun">.</span><span class="typ">SetActive</span><span class="pun">(</span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">isMiniMap</span><span class="pun">)</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            </span><span class="pun">{</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">                </span><span class="typ">GameObject</span><span class="pun">.</span><span class="typ">Instantiate</span><span class="pun">(</span><span class="pln">mapIcon</span><span class="pun">,</span><span class="pln"> targetPosition</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Quaternion</span><span class="pun">.</span><span class="pln">identity</span><span class="pun">,</span><span class="pln"> flag</span><span class="pun">);</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">path</span><span class="pun">.</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> </span><span class="typ">NavMeshPathStatus</span><span class="pun">.</span><span class="typ">PathPartial</span><span class="pun">)</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L5"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L6"><code class="lang-csharp"><span class="pln">            canArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"只能到达目的地附近！"</span><span class="pun">);</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">path</span><span class="pun">.</span><span class="pln">status </span><span class="pun">==</span><span class="pln"> </span><span class="typ">NavMeshPathStatus</span><span class="pun">.</span><span class="typ">PathInvalid</span><span class="pun">)</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">            lineRenderer</span><span class="pun">.</span><span class="pln">enabled </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">            canArrive </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L3"><code class="lang-csharp"><span class="pln">            </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"无法到达目的地！"</span><span class="pun">);</span></code></li><li class="L4"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5"><code class="lang-csharp"></code></li><li class="L6"><code class="lang-csharp"><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">needArrive </span><span class="pun">&amp;&amp;</span><span class="pln"> canArrive</span><span class="pun">)</span></code></li><li class="L7"><code class="lang-csharp"><span class="pln">        </span><span class="pun">{</span></code></li><li class="L8"><code class="lang-csharp"><span class="pln">            isSetDestination </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L9"><code class="lang-csharp"><span class="pln">            agent</span><span class="pun">.</span><span class="pln">path </span><span class="pun">=</span><span class="pln"> path</span><span class="pun">;</span></code></li><li class="L0"><code class="lang-csharp"><span class="pln">            agent</span><span class="pun">.</span><span class="pln">destination </span><span class="pun">=</span><span class="pln"> targetPosition</span><span class="pun">;</span></code></li><li class="L1"><code class="lang-csharp"><span class="pln">        </span><span class="pun">}</span></code></li><li class="L2"><code class="lang-csharp"><span class="pln">    </span><span class="pun">}</span></code></li><li class="L3"><code class="lang-csharp"><span class="pun">}</span></code></li></ol></pre>
				</div>
			</div>
			<div class="artical-links">
				<div style="text-align: center;" class="tigger-love">
					<p style="padding-bottom:12px">如果您觉得本文不错，可以选择打赏。打赏多少，您高兴就行，谢谢您的支持！ ~(@^_^@)~</p>
					<img id="imglove" class="tiggerimage" src="../images/icons/love.png"  width="25" height="25">
					<p class="alipay-wechat-img">
						<img src="../images/donate.png" alt="weixin" width="500" height="370">
					</p>    
				</div>
			</div>  

			<div id="replylist" class="comment-grid-top">
				<!--<h3 id="responsnum"></h3>-->
				<!--留言内容-->
	    <!--
	    <div class="comments-top-top top-grid-comment">
	    	<div class="top-comment-left">
	        	<img class="img-responsive" src="images/co.png" alt="">
	        </div>
	        <div class="top-comment-right">
	            <ul>
	                <li><span class="left-at replyname"> Admin</span></li>
	                <li><span class="right-at">12 July 2014 at 10.30am</span></li>
	                <li><a class="reply" href="#">REPLY</a></li>
	            </ul>
	            <p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.The point of using Lorem Ipsum is that it has a more-or-less </p>
	        </div>
	         <div class="clearfix"> </div>
	    </div>
	-->

</div>
	<!--
	 <div class="artical-commentbox">
	    <h3>发表回复</h3>
	    <div class="table-form">
	        <form>
	            <input id="name" type="text" class="textbox" placeholder="姓名" required="">
	            <input id="email" type="email" class="textbox" placeholder="邮箱" required="">
	            <input type="text" class="textbox" placeholder="联系电话" required="">
	            <textarea id="content" placeholder="内容" required=""></textarea>
	            <input type="submit" value="留言" onclick="CreatReply(document.getElementById('name').value, document.getElementById('email').value, document.getElementById('content').value)">
	        </form>
	    </div>
	</div>
-->

</div>
<div class="clearfix"> </div>
</div>
<!---End-blog -->

<div class="footer" id="thefooter">
	<div class="container">
		<div class="footer-top">
			<h2 style="color:#fff;text-align: right;font-size:20px;line-height:1.1em">高度决定视野，角度改变观念，尺度把握人生</h2>
		</div>
		<div class="footer-bottom">                       
			<p class="footer-class">Copyright &copy; 2017 WUZHENG.</p>
			<div class="clearfix"></div>
		</div>
	</div>
	<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
</div>
<script type="text/javascript">
	window.onresize = function(){ 
		$("#main-content").css("min-height",$(window).height() - $("#thefooter").height() - $("#home").height() - 35 + 'px');
	}
	$(document).ready(function () {  
		$("#main-content").css("min-height",$(window).height() - $("#thefooter").height() - $("#home").height() - 35 + 'px');
		$().UItoTop({ easingType: 'easeOutQuart' });

	});
</script>

<script>
        //window.onload = getResponsCount();
        $(function(){
        	var show = function() {
        		var $img = $('.alipay-wechat-img');
        		if ($img.is(':hidden')) {
        			$img.fadeIn();
        			document.getElementById('imglove').setAttribute('src','../images/icons/love_red.png'); 
        		} else {
        			$img.fadeOut();
        			document.getElementById('imglove').setAttribute("src","../images/icons/love.png"); 
        		}
        	}
        	$('.tigger-love img.tiggerimage')
        	.hover(show, show);
        });
    </script>
</body>
</html>